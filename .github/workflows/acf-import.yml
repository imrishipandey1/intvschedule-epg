# -------------------
# GitHub Actions workflow (save as .github/workflows/acf-import.yml)
# -------------------

# Below is the YAML content to add to your repo to run this script on a schedule or on push.
# Save it as .github/workflows/acf-import.yml

YAML = r"""
name: ACF Importer

on:
  push:
    paths:
      - 'output-today/**'
      - 'output-tomorrow/**'
  schedule:
    - cron: '0 */3 * * *' # every 3 hours - adjust as needed
  workflow_dispatch: {}

jobs:
  import:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Install deps
        run: python -m pip install --upgrade pip && pip install requests

      - name: Run ACF importer
        env:
          WP_BASE_URL: ${{ secrets.WP_BASE_URL }}
          WP_USER: ${{ secrets.WP_USER }}
          WP_APP_PASSWORD: ${{ secrets.WP_APP_PASSWORD }}
          POST_TYPE: ${{ secrets.POST_TYPE }}
          TODAY_DIR: 'output-today'
          TOMORROW_DIR: 'output-tomorrow'
        run: |
          python wp_acf_importer.py

"""

# Write YAML file to repo when running locally or show to user

# End of content
